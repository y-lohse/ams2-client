import { PacketDecoder } from "./src/PacketDecoder";
import utils from "util";

const p1 =
  "26c00000420000000102080256010000af7945f941756469205238204c4d53204754330000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000043000000af7945f94d657263656465732d414d472047543300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000023010000aa15c3ad43616d61726f20536166657479436172000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000";
const p2 =
  "d67c00002c000000020208020a9138b04152432043616d61726f000000000000000000001c5d2020436174657268616d20363230520000000000000035cc4807436174657268616d2041636164656d7900000000770e37e9436174657268616d2053757065726c6967687400d50cb3fb436174657268616d20537570657273706f72740016f8e4b3436f706120436c61737369632042000000000000b2ce4e96436f706120436c617373696320464c00000000001f1c87ba436f706120467573636100000000000000000000fe945016436f7061204d6f6e74616e6100000000000000009208c9cc436f706120547275636b0000000000000000000047a13d96436f706120556e6f00000000000000000000000077ae36ae445049000000000000000000000000000000000057958644462d436c61737369635f47656e325f4c440000008aa7febb462d436c61737369635f47656e335f4c44000000bf6102a5462d436c61737369635f47656e345f4c44000000cfd052ca462d4869746563682047656e31000000000000004dd6a2db462d4869746563682047656e3200000000000000a67153d5462d4869746563685f47656e315f4c4400000000c1e02dde462d4869746563685f47656e325f4c44000000003a9d7324462d5265697a615f4c44000000000000000000002a0723d4462d5553415f323032335f534f00000000000000212c7022462d5553415f323032335f5357000000000000004de08906462d5553415f47656e315f534f000000000000009ac3e280462d5553415f47656e315f535700000000000000088e0ecc462d5553415f47656e325f534f00000000000000d635ff93462d5553415f47656e325f53530000000000000014908e99462d5553415f47656e325f535700000000000000101b0b6b462d5553415f47656e335f534f00000000000000b61fb781462d5553415f47656e335f53530000000000000057c412d0462d5553415f47656e335f535700000000000000e391cc94462d556c74696d6174655f47656e325f4c440000ee8aee91462d556c74696d6174655f4c44000000000000002a664a21462d5631305f47656e315f4c4400000000000000806034d5462d5631305f47656e325f4c4400000000000000267c2a9e462d5631325f4c44000000000000000000000000e8442e3e46332042726173696c00000000000000000000008a997236466f726d756c6120436c61737369632047656e007b434c32466f726d756c6120436c61737369632047656e00b961d74a466f726d756c6120436c61737369632047656e00e1bd51c0466f726d756c6120436c61737369632047656e002880d333466f726d756c61204469727400000000000000001474c8fd466f726d756c6120496e7465720000000000000008a005c2466f726d756c61204a756e696f72000000000000aa79c2ff466f726d756c61205265697a610000000000000063d76648466f726d756c6120526574726f2047656e3100000cb3dd2a466f726d756c6120526574726f2047656e320000ccb9791c466f726d756c6120526574726f2047656e3300000add8f68466f726d756c6120547261696e65720000000000ea370950466f726d756c6120547261696e657220416476007e34f7e7466f726d756c6120555341203230323300000000a7905578466f726d756c61205553412047656e31000000006d683f7c466f726d756c61205553412047656e3200000000e94951cb466f726d756c61205553412047656e33000000002dafec41466f726d756c6120556c74696d61746500000000e2d0f902466f726d756c6120556c74696d617465204765001d58a7fe466f726d756c61205631302047656e31000000006901084a466f726d756c61205631302047656e32000000009fb124ee466f726d756c61205631320000000000000000005d70ed5c466f726d756c6120566565204272617a696c20001636938c466f726d756c6120566565204272617a696c2000";
const testPacket = p2;

function runTest() {
  console.log("=== Packet Analysis ===");
  console.log(`Packet length: ${testPacket.length / 2} bytes`);

  const buffer = Buffer.from(testPacket, "hex");
  const result = PacketDecoder.decodePacket(buffer);

  console.log(utils.inspect(result, { depth: null, colors: true }));
}

if (require.main === module) {
  runTest();
}

export { runTest };
